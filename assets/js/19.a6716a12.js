(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{364:function(a,s,t){a.exports=t.p+"assets/img/L3Byb3h5L2h0dHBzL2ltZzIwMTguY25ibG9ncy5jb20vaS1iZXRhLzEyMTU0OTIvMjAxOTExLzEyMTU0OTItMjAxOTExMjIxMTA3MTkzOTQtMTgwNDU0MDQyNy5wbmc=.25df2457.jpg"},547:function(a,s,t){"use strict";t.r(s);var n=t(11),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,n=a._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("h1",{attrs:{id:"docker常用命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker常用命令"}},[a._v("#")]),a._v(" docker常用命令")]),a._v(" "),n("h2",{attrs:{id:"查看资源"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看资源"}},[a._v("#")]),a._v(" 查看资源")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("docker system "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("df")]),a._v(" -v\n")])])]),n("h1",{attrs:{id:"docker安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker安装"}},[a._v("#")]),a._v(" docker安装")]),a._v(" "),n("p",[a._v("安装命令如下：")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -fsSL https://get.docker.com "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v(" -s docker --mirror aliyun\n")])])]),n("p",[a._v("也可以使用国内 daocloud 一键安装命令：")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -sSL https://get.daocloud.io/docker "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("sh")]),a._v("\n")])])]),n("h2",{attrs:{id:"docker开机启动"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker开机启动"}},[a._v("#")]),a._v(" docker开机启动")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl start docker "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" docker\n")])])]),n("h2",{attrs:{id:"docker卸载"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker卸载"}},[a._v("#")]),a._v(" docker卸载")]),a._v(" "),n("p",[a._v("删除安装包：")]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("yum remove docker-ce\n")])])]),n("p",[a._v("删除镜像、容器、配置文件等内容：")]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("rm -rf /var/lib/docker\n")])])]),n("h1",{attrs:{id:"docker-compose安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose安装"}},[a._v("#")]),a._v(" docker-compose安装")]),a._v(" "),n("blockquote",[n("p",[a._v("下载对应的版本：https://github.com/docker/compose/releases/")])]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://github.com/docker/compose/releases/download/1.29.2/docker-compose-Linux-x86_64\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 修改名称")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" docker-compose-Linux-x86_64 docker-compose\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 添加执行权限")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" +x docker-compose\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 移动到 /usr/local/bin")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" docker-compose /usr/local/bin\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 验证安装是否成功")]),a._v("\ndocker-compose -version\n")])])]),n("blockquote",[n("p",[a._v("systemOS: debian 8+")])]),a._v(" "),n("p",[a._v("校对时间:")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v("  /usr/share/zoneinfo/Asia/ShangHai  /etc/localtime\n")])])]),n("ul",[n("li",[a._v("安装Docker")])]),a._v(" "),n("div",{staticClass:"language-$bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("sudo pacman -S docker\n")])])]),n("ul",[n("li",[a._v("安装Dockercompose")])]),a._v(" "),n("div",{staticClass:"language-$bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("curl -L https://github.com/docker/compose/releases/download/1.16.1/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose\n\nchmod +x /usr/local/bin/docker-compose\n")])])]),n("p",[a._v("测试安装是否成功：")]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("docker -v\ndocker-compose -version\n")])])]),n("p",[a._v("建立 Docker 组加入当前用户：")]),a._v(" "),n("div",{staticClass:"language-$bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("sudo groupadd docker\nsudo usermod -aG docker $USER\n")])])]),n("p",[a._v("开机启动docker：")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" docker "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl start docker\n\n// 重启docker\nsystemctl daemon-reload "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v("\nsystemctl restart docker\n")])])]),n("p",[a._v("有时候pull image 的时候很慢可以添加国内源")]),a._v(" "),n("div",{staticClass:"language-$json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v('// sudo vim /etc/docker/daemon.json\n\n{\n    "registry-mirrors": [\n    "https://kfwkfulq.mirror.aliyuncs.com",\n    "https://2lqq34jg.mirror.aliyuncs.com",\n    "https://pee6w651.mirror.aliyuncs.com",\n    "https://registry.docker-cn.com",\n    "http://hub-mirror.c.163.com"\n    ]\n}\n')])])]),n("ul",[n("li",[a._v("Laradock")])]),a._v(" "),n("p",[a._v("Wike: http://laradock.io/")]),a._v(" "),n("p",[a._v("快速开始：克隆Laradock")]),a._v(" "),n("div",{staticClass:"language-$xslt extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("git clone https://github.com/Laradock/laradock.git\n")])])]),n("p",[a._v("自定义配置")]),a._v(" "),n("div",{staticClass:"language-$xslt extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("cd laradock\ncp env-example .env\n")])])]),n("p",[a._v("运行容器")]),a._v(" "),n("div",{staticClass:"language-$xslt extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("docker-compose up -d nginx phpmyadmin workspace \n")])])]),n("p",[a._v("连接数据库")]),a._v(" "),n("div",{staticClass:"language-$xslt extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("DB_HOST=mysql //记得是：mysql, 不是127.0.0.1\nREDIS_HOST=redis\n")])])]),n("p",[a._v("Ps: .env 文件是基本的配置文件，大家可以根据自己的需求更改配置，需要注意的是，如果默认安装了mysql:8.0,但是我想安装mysql:5.6怎么办？")]),a._v(" "),n("div",{staticClass:"language-$xslt extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("vim .env\nESC\n:/mysql\n")])])]),n("p",[a._v("找到mysql，然后【MYSQL_VERSION=5.6】直接写版本就可以 最后需要build一下，并且删除之前的mysql缓存数据")]),a._v(" "),n("div",{staticClass:"language-$xslt extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("cd laradock\nrm -rf ~/.laradock\ndocker-compose build mysql\ndocker-compose up -d nginx mysql phpmyadmin\n")])])]),n("h1",{attrs:{id:"docker-swarm"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker-swarm"}},[a._v("#")]),a._v(" docker-swarm")]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("# master\ndocker swarm init --advertise-addr 192.168.99.100\nrclone mount DriveName:Folder LocalFolder --copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --umask 000\n")])])]),n("h1",{attrs:{id:"laradock修改记录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#laradock修改记录"}},[a._v("#")]),a._v(" Laradock修改记录")]),a._v(" "),n("h2",{attrs:{id:"minio"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#minio"}},[a._v("#")]),a._v(" minio")]),a._v(" "),n("div",{staticClass:"language-env extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("# .env\nMINIO_WEB_PORT=9001\n")])])]),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("minio:\n      image: minio/minio\n      privileged: "),n("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),a._v("\n      restart: always\n      volumes:\n        - "),n("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${DATA_PATH_HOST}")]),a._v("/minio/data:/data\n        - "),n("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${DATA_PATH_HOST}")]),a._v("/minio/config:/root/.minio\n      ports:\n        - "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),n("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${MINIO_PORT}")]),a._v(':9000"')]),a._v("\n        - "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),n("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${MINIO_WEB_PORT}")]),a._v(':9001"')]),a._v("\n      command: server --console-address "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v("':9001'")]),a._v(" /data  "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#指定容器中的目录 /data")]),a._v("\n      healthcheck: "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 健康检查")]),a._v("\n        test: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"CMD"')]),a._v(", "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"curl"')]),a._v(", "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"-f"')]),a._v(", "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"http://localhost:9000/minio/health/live"')]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n        interval: 30s\n        timeout: 20s\n        retries: "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v("\n      environment:\n        - "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MINIO_ROOT_USER")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("admin\n        - "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MINIO_ROOT_PASSWORD")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("admin666\n      networks:\n        - frontend\n        - backend\n")])])]),n("h1",{attrs:{id:"laradock扩展应用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#laradock扩展应用"}},[a._v("#")]),a._v(" Laradock扩展应用")]),a._v(" "),n("blockquote",[n("p",[a._v("相应文件夹可以到github或者群里获取。")])]),a._v(" "),n("p",[a._v(".env")]),a._v(" "),n("div",{staticClass:"language-.env extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("## httpbin \nHTTPBIN_PORT=8085\n\n## wordPress\nWORDPRESS_PORT=8086\nWORDPRESS_HTML=./wordpress\n\n## emby \n# bash: mkdir -p emby/config emby/Data emby/Pan\nEMBY_IMAGE=emby/embyserver\nEMBY_HTTP_PORT=8085\nEMBY_HTTPS_PORT=8086\nEMBY_CONFIG_PATH=./emby/config\nEMBY_SHAREDIR_PATH=./emby/data\nEMBY_CLOUD_PATH=/home/orangbus/Pan\n\n## jellyfin\n# bash：mkdir -p /home/video && mkdir -p ./jellyfin/config cache\nJELLYFIN_IMAGE=jellyfin/jellyfin:latest\nJELLYFIN_HTTP_PORT=8096\nJELLYFIN_CONFIG=./jellyfin/config\nJELLYFIN_CACHE=./jellyfin/cache\nJELLYFIN_VIDEO_PATH=/home/video\n\n# nextCloud ############################\n# bash: mkdir nextcloud && cd nextcloud && mkdir -p NextCloud Apps Config Data Theme\nNEXTCLOUD_PORT=8083\nNEXTCLOUD=./nextcloud/NextCloud\nNEXTCLOUD_APPS=./nextcloud/Apps\nNEXTCLOUD_CONFIG=./nextcloud/Config\nNEXTCLOUD_DATA=./nextcloud/Data## emby \n# bash: mkdir -p emby/config emby/Data emby/Pan\nEMBY_IMAGE=emby/embyserver\nEMBY_HTTP_PORT=8085\nEMBY_HTTPS_PORT=8086\nEMBY_CONFIG_PATH=./emby/config\nEMBY_SHAREDIR_PATH=./emby/data\nEMBY_CLOUD_PATH=/home/orangbus/Pan\n\n## jellyfin\n# bash：mkdir -p /home/video && mkdir -p ./jellyfin/config cache\nJELLYFIN_IMAGE=jellyfin/jellyfin:latest\nJELLYFIN_HTTP_PORT=8096\nJELLYFIN_CONFIG=./jellyfin/config\nJELLYFIN_CACHE=./jellyfin/cache\nJELLYFIN_VIDEO_PATH=/home/video\nNEXTCLOUD_THEME=./nextcloud/Theme\n\n# 百度网盘\nBAIDU_PORT=8088\nBAIDU_PATH=./baidu/data\n\n# aria2\n# bash: mkdir aria2 && mkdir -p Download config\nARIA2_HTTP_PORT=8089\nARIA2_POER1=6800\nARIA2_POER2=16881\nARIA2_SECRET=admin  # 密码\nARIA2_DOWNLOAD_DIR=./aria2/Download\nARIA2_CONFIG=./aria2/config\n\n# ownCloud\n#bash mkdir -p owncloud/html owncloud/data owncloud/config owncloud/apps\nOWNCLOUD_PORT=8086\nOWNCLOUD_DATA=/home/orangbus/Owncloud\nOWNCLOUD_HTML=./owncloud/html\nOWNCLOUD_APP=./owncloud/apps\nOWNCLOUD_CONFIG=./owncloud/config\n\n# # scylla\n# bash mkdir -p scylla/data\nSCLLA_PORT=8087\nSCLLA_DATA=./scylla/data\n\n")])])]),n("p",[a._v("docker-compose")]),a._v(" "),n("div",{staticClass:"language-yaml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# httpin ")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("httpbin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" httpbin\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" kennethreitz/httpbin\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" 8085"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v("\n      \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# wordPress 生产环境请自行修改数据库账号密码")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("wordpress")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" wordpress\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" wordpress\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("environment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("WORDPRESS_DB_HOST")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" mysql\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("WORDPRESS_DB_USER")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" root\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("WORDPRESS_DB_PASSWORD")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" root\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("WORDPRESS_DB_NAME")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" wordpress\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("WORDPRESS_HTML"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/var/www/html\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"${WORDPRESS_PORT}:80"')]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("depends_on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" mysql\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" nginx\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" php"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("fpm\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("networks")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" frontend\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" backend\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# emby")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("emby")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" emby\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("EMBY_IMAGE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("restart")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" always\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"${EMBY_HTTP_PORT}:8096"')]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"${EMBY_HTTPS_PORT}:8920"')]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("environment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("UID")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("1000")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("GID")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("GIDLIST")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("DEVICE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" /dev/dri"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/dev/dri\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("RUNTIME")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" nvidia\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("EMBY_CONFIG_PATH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/config\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("EMBY_SHAREDIR_PATH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/mnt/shareDir\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("EMBY_CLOUD_PATH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/mnt/CloudDrive\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# jellyfin")]),a._v("\n\t"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("jellyfin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" jellyfin\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" jellyfin/jellyfin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("JELLYFIN_IMAGE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("restart")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" always\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      \t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"${JELLYFIN_HTTP_PORT}:8096"')]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("JELLYFIN_CONFIG"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/config\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("JELLYFIN_CACHE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/cache\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("JELLYFIN_VIDEO_PATH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/video\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("### nextCloud $$$$$$$$$$$$$$$$$$")]),a._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("nextcloud")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" nextcloud\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" nextcloud\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("NEXTCLOUD"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/var/www/html\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("NEXTCLOUD_APPS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/var/www/html/custom_apps\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("NEXTCLOUD_DATA"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/var/www/html/data\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("NEXTCLOUD_CONFIG"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/var/www/html/config\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("NEXTCLOUD_THEME"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/var/www/html/themes\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("depends_on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" nginx\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" php"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("fpm\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" mysql\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"${NEXTCLOUD_PORT}:80"')]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("networks")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" frontend\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" backend\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 百度网盘")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("baidu")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" baidupcs\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" auska/docker"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("baidupcs\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("BAIDU_PATH"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/root/Download\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("environment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" PGID=1001\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" PUID=1001\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" TZ=Asia/Shanghai\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" PORT=1999\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"${BAIDU_PORT}:1999"')]),a._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# aria2")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("aria2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" aria2\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" auska/docker"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("aria2\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("ARIA2_DOWNLOAD_DIR"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/mnt/Download\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("ARIA2_CONFIG"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/config\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("environment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" PUID=0\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" PGID=0\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" RPC=6800\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" TZ=Asia/Shanghai\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" SECRET=$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("ARIA2_SECRET"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"${ARIA2_HTTP_PORT}:80"')]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"${ARIA2_POER1}:6800"')]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"${ARIA2_POER2}:16881"')]),a._v("\n        \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# owncloud")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("owncloud")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" owncloud\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" owncloud\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("restart")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" always\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"${OWNCLOUD_PORT}:80"')]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("OWNCLOUD_DATA"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/var/www/html/data\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("OWNCLOUD_HTML"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/var/www/html\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("OWNCLOUD_APP"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/var/www/html/apps\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("OWNCLOUD_CONFIG"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/var/www/html/config\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("####Scylla docker run -d -p 8899:8899 -p 8081:8081")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#-v /var/www/scylla:/var/www/scylla --name scylla wildcat/scylla:latest")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("scylla")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" scylla\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" wildcat/scylla"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("latest\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"8899:8899"')]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"${SCLLA_PORT}:8081"')]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("SCLLA_DATA"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("/var/www/scylla\n")])])]),n("h2",{attrs:{id:"laradock无法安装解决方法汇总"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#laradock无法安装解决方法汇总"}},[a._v("#")]),a._v(" Laradock无法安装解决方法汇总")]),a._v(" "),n("h3",{attrs:{id:"镜像导入"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#镜像导入"}},[a._v("#")]),a._v(" 镜像导入")]),a._v(" "),n("h3",{attrs:{id:"修改hosts"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#修改hosts"}},[a._v("#")]),a._v(" 修改hosts")]),a._v(" "),n("h3",{attrs:{id:"替换无法下载链接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#替换无法下载链接"}},[a._v("#")]),a._v(" 替换无法下载链接")]),a._v(" "),n("h2",{attrs:{id:"无法从github下载nvm解决办法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#无法从github下载nvm解决办法"}},[a._v("#")]),a._v(" 无法从github下载nvm解决办法")]),a._v(" "),n("p",[a._v("容器里面无法下载，那么我们就先下载好放在"),n("code",[a._v("workspace")]),a._v(" 目录下")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" http://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh pathTo/laradck/workspace\n")])])]),n("p",[a._v("编辑"),n("code",[a._v("workspace")]),a._v(" 文件夹下面的"),n("code",[a._v("dockerfile")]),a._v(" 文件")]),a._v(" "),n("p",[a._v("搜索："),n("code",[a._v("COPY ./aliases.sh /home/laradock/aliases.sh")]),a._v(" 在下面添加一行")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("COPY ./nvm.sh /home/laradock/nvm.sh\n")])])]),n("p",[a._v("在"),n("code",[a._v("chown laradock:laradock /home/laradock/aliases.sh && \\")]),a._v(" 下面添加一行")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("chown")]),a._v(" laradock:laradock /home/laradock/nvm.sh "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n")])])]),n("p",[a._v("替换下载地址 "),n("code",[a._v("mkdir -p $NVM_DIR && \\")]),a._v(" 下面替换（大概在677行左右）")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 替换为")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /home/laradock/nvm.sh "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n")])])]),n("p",[a._v("重新启动一下"),n("code",[a._v("workspace")]),a._v(" 就可以啦")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("docker-compose up -d workspace\n")])])]),n("p",[a._v("如果还是不行，那就过几分钟重新再执行上面的命令，多试几次就好了，根据我安装这么多次经验，一般这样就可以安装好了，如果家里网络不是很好的话，建议蹭一下邻居的wifi，不然这玩意真的太难下载了，只要安装好了后面就好升级啥的了。（其实这玩意难安装是因为"),n("code",[a._v("workspace")]),a._v(" 这个玩意，但是我一般用的是google云或者国外的服务器很快就安装好了）")]),a._v(" "),n("h1",{attrs:{id:"laradock离线安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#laradock离线安装"}},[a._v("#")]),a._v(" Laradock离线安装")]),a._v(" "),n("p",[a._v("有时候家里的网络慢或者各种原因，我们在启动laradock的时候总是会安装失败，其中95%的原因是下载docker镜像导致的，那么今天教大家如果离线安装（不太推荐，但是万不得已可是尝试一下）")]),a._v(" "),n("blockquote",[n("p",[a._v("本机安装了docker , docker-compsoe")]),a._v(" "),n("p",[a._v("需要一个云主机，最好是国外的，国内的也可以，（我没有怎么办，腾讯云有免费体验15天活动，可以尝试一下，或者加群找群主帮你处理）")])]),a._v(" "),n("p",[a._v("流程：")]),a._v(" "),n("ol",[n("li",[a._v("现在云主机上下载并启动laradock")]),a._v(" "),n("li",[a._v("打包已经下载的镜像")]),a._v(" "),n("li",[a._v("下载打包镜像到本地")]),a._v(" "),n("li",[a._v("从本地导入下载的镜像")])]),a._v(" "),n("p",[a._v("马上操练起来（假设你已经会基本使用laradock）")]),a._v(" "),n("h2",{attrs:{id:"导出laradock镜像"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#导出laradock镜像"}},[a._v("#")]),a._v(" 导出laradock镜像")]),a._v(" "),n("p",[a._v("列出所有进项，")]),a._v(" "),n("p",[n("img",{attrs:{src:"/images/dockerimage.png",alt:""}})]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("➜  laradock git:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("master"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" ✗ docker images    \nlaradock_nginx        latest         b7ba928e59d2        "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(" days ago           "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("27")]),a._v(".2MB\n")])])]),n("p",[a._v("挨个导出，然后下载到本地")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("docker save -o laradock_nginx.tar laradock_nginx\n")])])]),n("p",[a._v("此时会在当前目录下生成一个"),n("code",[a._v("laradock_nginx.tar")]),a._v(" 的文件，")]),a._v(" "),n("h2",{attrs:{id:"导入laradock镜像"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#导入laradock镜像"}},[a._v("#")]),a._v(" 导入laradock镜像")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("docker load -i laradock_nginx.tar\n")])])]),n("p",[a._v("到此就可以直接启用了。")]),a._v(" "),n("h1",{attrs:{id:"window10使用laradock"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#window10使用laradock"}},[a._v("#")]),a._v(" window10使用Laradock")]),a._v(" "),n("p",[a._v("起因：公司没人用linux，但是我又懒得去折腾window了，有什么办法可以在window环境下使用linux的开发环境，答案有。")]),a._v(" "),n("p",[a._v("大概思路：")]),a._v(" "),n("p",[a._v("1、window开启虚拟换支持，配置wsl")]),a._v(" "),n("p",[a._v("2、安装window下的linux子系统。")]),a._v(" "),n("p",[a._v("3、在linux系统下安装docker，并配置成功启动laradock。")]),a._v(" "),n("p",[a._v("4、远程同步开发。")]),a._v(" "),n("p",[a._v("是不是迫不及待了，马上操练起来。")]),a._v(" "),n("h2",{attrs:{id:"遇到问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#遇到问题"}},[a._v("#")]),a._v(" 遇到问题")]),a._v(" "),n("blockquote",[n("p",[a._v("成功安装了docker，但是无法使用")])]),a._v(" "),n("p",[a._v("1、如果你参考我的步骤来，理论没问题，我在多台电脑成功配置ok。")]),a._v(" "),n("p",[a._v("2、重启一下终端，或者电脑。")]),a._v(" "),n("p",[a._v("3、请查看dock"),n("code",[a._v("docker")]),a._v(" 和 "),n("code",[a._v("docker-compose")]),a._v(" 的版本是否是最新的，以及权限问题。")]),a._v(" "),n("blockquote",[n("p",[a._v("如何使用账号密码远程连接linux")])]),a._v(" "),n("p",[a._v("安装 "),n("code",[a._v("ssh")])]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("ssh")]),a._v("\n")])])]),n("p",[a._v("修改 ==sudo vim /etc/ssh/sshd_config== 文件，是 "),n("code",[a._v("sshd_config")]),a._v("  不是 "),n("code",[a._v("ssh_config")])]),a._v(" "),n("div",{staticClass:"language-text extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("将 #PasswordAuthentication no 的注释去掉，并且将 no 修改为 yes\n将 #PermitRootLogin prohibit-password 的注释去掉，将 prohibit-password 改为 yes\n")])])]),n("p",[a._v("重启ssh：")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl restart sshd\n// or\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("service")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("ssh")]),a._v(" restart\n")])])]),n("h1",{attrs:{id:"错误汇总"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#错误汇总"}},[a._v("#")]),a._v(" 错误汇总")]),a._v(" "),n("blockquote",[n("p",[a._v("Service 'mysql' failed to build: error pulling image configuration: Get \"https://registry-1.docker.io/v2/library/mysql/blobs/sha256:718a6da099d82183c064a964523c0deca80619cb033aadd15854771fe592a480\": dial tcp: lookup registry-1.docker.io: no such host")])]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v('sudo echo "servername 8.8.8.8" >> /etc/resolv.conf\n')])])]),n("blockquote",[n("p",[a._v("ERROR: Service 'phpmyadmin' failed to build: Get \"https://registry-1.docker.io/v2/\": dial tcp: lookup registry-1.docker.io: no such host")])]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("//第一步：创建daemon.json文件\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/docker/daemon.json\n\n//第二步：重启docker\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl daemon-reload\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl restart docker\n\n//第三步：执行docker-compose的时候需要在文件所在目录执行\n")])])]),n("blockquote",[n("p",[a._v("docker起不来报错：Failed to start Docker Application Container Engine")])]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("/etc/docker/daemon.json\n这个文件的格式不对，或者因为防火墙原因\n")])])]),n("h2",{attrs:{id:"使用ssh链接laradock的workspace"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用ssh链接laradock的workspace"}},[a._v("#")]),a._v(" 使用ssh链接laradock的workspace")]),a._v(" "),n("p",[a._v("首先需要在 .env 文件把 WORKSPACE_INSTALL_WORKSPACE_SSH 环境变量设为 true.")]),a._v(" "),n("p",[a._v("然后重新构建镜像，使用 docker-compose build workspace，再启动镜像。")]),a._v(" "),n("p",[a._v("Laradock 使用密钥方式连接 ssh")]),a._v(" "),n("p",[n("img",{attrs:{src:t(364),alt:"img"}})]),a._v(" "),n("p",[a._v("登录用户名是 root，使用密钥方式，这里“用户密钥”可以选择项目 "),n("a",{attrs:{href:"https://oddyzfr8z.qnssl.com/wp-content/uploads/2017/09/laradock_ssh_workspace_20170921143431.png",target:"_blank",rel:"noopener noreferrer"}},[a._v("workspace"),n("OutboundLink")],1),a._v(" 目录下的密钥文件 insecure_id_rsa 即可。")]),a._v(" "),n("p",[a._v("这样就可以通过 ssh 方式登录了。")]),a._v(" "),n("h1",{attrs:{id:"停止、删除所有的docker容器和镜像"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#停止、删除所有的docker容器和镜像"}},[a._v("#")]),a._v(" 停止、删除所有的docker容器和镜像")]),a._v(" "),n("p",[a._v("这些命令总是记不住，或者说不用心去记，所以记录在本文中，以便将来查询。")]),a._v(" "),n("h2",{attrs:{id:"列出所有的容器-id"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#列出所有的容器-id"}},[a._v("#")]),a._v(" 列出所有的容器 ID")]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("docker ps -aq\n")])])]),n("h2",{attrs:{id:"停止所有的容器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#停止所有的容器"}},[a._v("#")]),a._v(" 停止所有的容器")]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("docker stop $(docker ps -aq)\n")])])]),n("h2",{attrs:{id:"删除所有的容器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#删除所有的容器"}},[a._v("#")]),a._v(" 删除所有的容器")]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("docker rm $(docker ps -aq)\n")])])]),n("h2",{attrs:{id:"删除所有的镜像"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#删除所有的镜像"}},[a._v("#")]),a._v(" 删除所有的镜像")]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("docker rmi $(docker images -q)\n")])])]),n("p",[a._v("docker 1.13 中增加了"),n("code",[a._v("docker system prune")]),a._v("的命令，针对container、image可以使用"),n("code",[a._v("docker container prune")]),a._v("、"),n("code",[a._v("docker image prune")]),a._v("命令。")]),a._v(" "),n("ul",[n("li",[n("code",[a._v("docker image prune --force --all")]),a._v("或者docker image prune -f -a` : 删除所有不使用的镜像")]),a._v(" "),n("li",[n("code",[a._v("docker container prune -f")]),a._v(": 删除所有停止的容器")])]),a._v(" "),n("h2",{attrs:{id:"删除名称或标签为none的镜像"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#删除名称或标签为none的镜像"}},[a._v("#")]),a._v(" 删除名称或标签为none的镜像")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("docker rmi -f  "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v("docker images "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v("'<none>'")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("awk")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v("'{print "),n("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$3")]),a._v("}'")]),n("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("\n")])])]),n("h2",{attrs:{id:"清理docker存储"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#清理docker存储"}},[a._v("#")]),a._v(" 清理docker存储")]),a._v(" "),n("blockquote",[n("p",[a._v("failed to register layer: ApplyLayer exit status 1 stdout:  stderr: open /usr/lib64/python3.6/ctypes/"),n("strong",[a._v("pycache")]),a._v("/wintypes.cpython-36.opt-2.pyc: no space left on device")])]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("docker system prune -a --volumes\n")])])]),n("h1",{attrs:{id:"修改docker默认存储位置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#修改docker默认存储位置"}},[a._v("#")]),a._v(" 修改docker默认存储位置")]),a._v(" "),n("p",[a._v("查看存储位置: "),n("code",[a._v("/var/lib/docker")])]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("docker info "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Docker Root Dir"')]),a._v("\n")])])]),n("p",[a._v("前置工作")]),a._v(" "),n("p",[a._v("备份来源的数据")]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("sudo cp -r /var/lib/docker /data/docker\n")])])]),n("p",[a._v("停止docker")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl stop docker\n")])])]),n("p",[a._v("修改配置文件"),n("code",[a._v("/etc/docker/daemon.json")])]),a._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    ...\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[a._v('"data-root"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/data/docker/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" # 新路径存储位置\n    ...\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),n("p",[a._v("重启")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("systemctl restart docker\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);