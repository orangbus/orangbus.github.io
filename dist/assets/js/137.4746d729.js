(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{648:function(e,t,a){"use strict";a.r(t);var s=a(11),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("2021年09月26日发布的"),a("code",[e._v("OpenSSH 8.8")]),e._v("中移除了对RSA-SHA1的支持")]),e._v(" "),a("blockquote",[a("ul",[a("li",[e._v("最新的"),a("code",[e._v("git for windows 2.33.1")]),e._v("版本已使用"),a("code",[e._v("OpenSSH 8.8")])]),e._v(" "),a("li",[e._v("arch和manjaro等发行版的滚动升级比较激进，使用"),a("code",[e._v("pacman -Syu")]),e._v("就会升级所有软件到最新版本")]),e._v(" "),a("li",[e._v("此时的表现就是之前还可以正常使用，"),a("code",[e._v("pacman -Syu")]),e._v("或升级到"),a("code",[e._v("git for windows 2.33.1")]),e._v("之后使用"),a("code",[e._v("git pull")]),e._v("就出现"),a("code",[e._v("fatal: 无法读取远程仓库")]),e._v("的提示")])])]),e._v(" "),a("p",[e._v("如果您升级到"),a("code",[e._v("OpenSSH 8.8")]),e._v("或以上版本，则使用ssh推拉Gitee代码时会出现校验不通过的问题")]),e._v(" "),a("blockquote",[a("p",[a("img",{attrs:{src:"https://images.gitee.com/uploads/images/2021/1014/110518_2fa9dedc_4764813.png",alt:"输入图片说明",title:"屏幕截图.png"}}),a("br"),e._v(" "),a("img",{attrs:{src:"https://images.gitee.com/uploads/images/2021/1014/110856_78e3d7d4_4764813.png",alt:"输入图片说明",title:"屏幕截图.png"}})])]),e._v(" "),a("h3",{attrs:{id:"原因"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#原因"}},[e._v("#")]),e._v(" "),a("a",{attrs:{href:"#%E5%8E%9F%E5%9B%A0"}}),e._v("原因")]),e._v(" "),a("p",[e._v("我们使用"),a("code",[e._v("golang.org/x/crypto/ssh")]),e._v("来从public key中提取出指纹，以此从Gitee主应用兑换用户信息")]),e._v(" "),a("p",[e._v("而这个库目前（2021-10-12）还没有支持"),a("code",[e._v("RSA-SHA2")]),e._v("算法，因此会获取不到指纹，导致用户校验失败")]),e._v(" "),a("h3",{attrs:{id:"临时解决"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#临时解决"}},[e._v("#")]),e._v(" "),a("a",{attrs:{href:"#%E4%B8%B4%E6%97%B6%E8%A7%A3%E5%86%B3"}}),e._v("临时解决")]),e._v(" "),a("p",[e._v("下述三种方案任选其一即可")]),e._v(" "),a("ol",[a("li",[e._v("配置OpenSSH服务允许使用"),a("code",[e._v("RSA-SHA1")]),e._v("key")])]),e._v(" "),a("blockquote",[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("在 ~/.ssh/config 加上如下配置\nHost gitee.com \nHostkeyAlgorithms +ssh-rsa \nPubkeyAcceptedAlgorithms +ssh-rsa\n")])])]),a("p",[e._v("PS：这种方式不需要更换ssh key，推荐"),a("code",[e._v("Linux")]),e._v("和"),a("code",[e._v("windows git bash")]),e._v("用户使用")])]),e._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[e._v("换用其他算法生成ssh key")])]),e._v(" "),a("blockquote",[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('ssh-keygen -t ed25519 -C "your@example.email"\n之后到Gitee重新添加公钥即可\n')])])]),a("p",[e._v("PS： 这种方式需要更换ssh key，推荐"),a("code",[e._v("windows")]),e._v("用户使用")])]),e._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[e._v("暂时不要使用"),a("code",[e._v("OpenSSH 8.8")]),e._v("及以上版本")])]),e._v(" "),a("h3",{attrs:{id:"结语"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#结语"}},[e._v("#")]),e._v(" "),a("a",{attrs:{href:"#%E7%BB%93%E8%AF%AD"}}),e._v("结语")]),e._v(" "),a("p",[e._v("目前golang社区已经关注到了这一情况，且已经在推进对"),a("code",[e._v("RSA-SHA2")]),e._v("的支持，"),a("a",{attrs:{href:"https://github.com/golang/go/issues/37278",target:"_blank",rel:"noopener noreferrer"}},[e._v("详情"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("我们会时刻关注相关进展，并在golang支持"),a("code",[e._v("RSA-SHA2")]),e._v("后第一时间跟进，感谢您对"),a("code",[e._v("Gitee")]),e._v("的支持")]),e._v(" "),a("h3",{attrs:{id:"参考连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考连接"}},[e._v("#")]),e._v(" "),a("a",{attrs:{href:"#%E5%8F%82%E8%80%83%E8%BF%9E%E6%8E%A5"}}),e._v("参考连接")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://www.openssh.com/txt/release-8.8",target:"_blank",rel:"noopener noreferrer"}},[e._v("openssh-release-note-8.8"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("原文地址："),a("a",{attrs:{href:"https://gitee.com/help/articles/4352#article-header0",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://gitee.com/help/articles/4352#article-header0"),a("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);